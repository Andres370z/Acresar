<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header card-header-rose card-header-icon">
            <div class="card-icon" style="background-color: #016672;">
              <i class="material-icons">storage</i>
            </div>
            <h4 class="card-title">Listado</h4>
            <!-- MENU -->
          </div>

          <div class="card-body">
            <form [formGroup]="cuotaParteForm">
              <div class="row">
                <div class="col-xs-12 col-md-12">
                  <div class="row">
                    <div class="col-md-3 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Siniestro</mat-label>
                        <input matInput type="text" (change)="siniestrobuscar()" formControlName="siniestro"
                          placeholder="Poliza">
                      </mat-form-field>
                      <ul id="myUL" *ngIf="lisRequest4">
                        <li *ngFor="let item of aseguradorsiniestro">
                          <a href="javascript:void(0)" (click)="cargarsiniestro(item)">{{item.sin}}</a>
                        </li>
                      </ul>
                    </div>

                    <div class="col-md-3 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Valor del Siniestro</mat-label>
                        <input matInput type="text" (change)="miles('tabel','valorsiniestro')"
                          formControlName="valorsiniestro" placeholder="Valor siniestro">
                      </mat-form-field>
                    </div>

                    <div class="col-md-3 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Fecha Siniestro</mat-label>
                        <input matInput type="date" formControlName="fechasiniestro">
                      </mat-form-field>
                    </div>

                    <div class="col-md-3 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Fecha de pago</mat-label>
                        <input matInput type="date" formControlName="fechadepago">
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-md-6">
                  <div class="row">
                    <div class="col-md-6 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Poliza</mat-label>
                        <input matInput type="text" (change)="polizabuscar()" formControlName="poliza"
                          placeholder="Poliza">
                      </mat-form-field>
                      <ul id="myUL" *ngIf="lisRequest3">
                        <li *ngFor="let item of aseguradorpoliza">
                          <a href="javascript:void(0)" (click)="cargarpoliza(item)">{{item.codigopol}}</a>
                        </li>
                      </ul>
                    </div>

                    <div class="col-md-6 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Certificado / Endoso</mat-label>
                        <input matInput type="text" formControlName="certificado" placeholder="Cerficado / Endoso"
                          disabled>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <div class="col-xs-12 col-md-6">
                  <div class="row">
                    <div class="col-md-6 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Fecha Emision</mat-label>
                        <input matInput type="date" formControlName="fechaemision" disabled>
                      </mat-form-field>
                    </div>

                    <div class="col-md-6 col-xs-12">
                      <mat-form-field appearance="outline" class="w-100">
                        <mat-label>Ciudad</mat-label>
                        <input matInput type="text" formControlName="ciudad" placeholder="Ciudad" disabled>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Asegurado</mat-label>
                    <input matInput type="text" (change)="aseguradorfinal()" formControlName="asegurador"
                      placeholder="Asegurado" disabled>
                  </mat-form-field>
                  <ul id="myUL" *ngIf="lisRequest2">
                    <li *ngFor="let item of aseguradornit">
                      <a href="javascript:void(0)" (click)="cargarnit(item)">{{item.a2}}</a>
                    </li>
                  </ul>
                </div>

                <div class="col-xs-12 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Nit Asegurado</mat-label>
                    <input matInput type="text" formControlName="nit" placeholder="Nit" disabled>
                  </mat-form-field>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Identificación del contrato</mat-label>
                    <input matInput type="text" (change)="contratosfacultativos()" formControlName="idContrato"
                      placeholder="Nombre del contrato" disabled>
                  </mat-form-field>
                  <input type="hidden" formControlName="idContratopk">
                  <ul id="myUL" *ngIf="lisRequest">
                    <li *ngFor="let item of contratofinal">
                      <a href="javascript:void(0)" (click)="cargar(item)">{{item.o}}</a>
                    </li>
                  </ul>
                </div>

                <div class="col-md-6 col-xs-12">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Descripción</mat-label>
                    <input matInput type="text" formControlName="descripcion" placeholder="Descripción" disabled>
                  </mat-form-field>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Moneda</mat-label>
                    <input matInput type="text" formControlName="moneda" placeholder="Moneda" disabled>
                  </mat-form-field>
                </div>

                <div class="col-xs-12 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Inicio</mat-label>
                    <input matInput type="text" formControlName="inicio" disabled>
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Fin</mat-label>
                    <input matInput type="text" formControlName="fin" disabled>
                  </mat-form-field>
                </div>
              </div>
            </form>





            <div class="row">
              <div class="col-md-12 form-group">
                <div *ngIf="lisRequest5 == 'ok'">
                  <table class="table" style="margin-top:2rem;">
                    <thead>
                      <tr>
                        <th>Selecciona un ramos</th>
                        <th>Cod ramo</th>
                        <th>Ramos</th>
                        <th>Suma Limite</th>
                        <th>Prima total</th>
                        <th>% Cesión</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <mat-radio-group [(ngModel)]="favoriteSeason" class="form-check">
                            <mat-radio-button [value]="listareasu3" class="form-check-input" id="materialGroupExample1" name="groupOfMaterialRadios"></mat-radio-button>
                          </mat-radio-group>
                        </td>
                        <td>{{listareasu3['nme']}}</td>
                        <td>{{listareasu3['nm']}}</td>
                        <td>{{miles('tabel', listareasu3['c'])}}</td>
                        <td>{{miles('tabel', listareasu3['ttl'])}}</td>
                        <td>{{porcentaje(listareasu3['r'] | number)}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div *ngIf="lisRequest5 == 'okf'">
                  <table class="table" style="margin-top:2rem;">
                    <thead>
                      <tr>
                        <th>Selecciona un ramos</th>
                        <th>Cod ramo</th>
                        <th>Ramos</th>
                        <th>Suma Limite</th>
                        <th>Prima total</th>
                        <th>% Cesión</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let item of listareasu3">
                      <tr>
                        <td>
                          <mat-radio-group [(ngModel)]="favoriteSeason" class="form-check">
                            <mat-radio-button [value]="item" class="form-check-input" id="materialGroupExample1" name="groupOfMaterialRadios"></mat-radio-button>
                          </mat-radio-group>
                        </td>
                        <td>{{item.nme}}</td>
                        <td>{{item.nm}}</td>
                        <td>{{miles('tabel', item.c)}}</td>
                        <td>{{miles('tabel', item.ttl)}}</td>
                        <td>{{porcentaje(item.r | number)}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
            
                <div class="row">
                  <div class="col-md-12 text-center-pro">
                    <button mat-raised-button color="primary" (click)="procesar()">PROCESAR</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 text-center">
                <button mat-raised-button color="default" class="btn btn-default btn-lg btn-block">REASEGURO</button>
              </div>
            </div>
            <div class="row">
              <table class="table" style="margin-top:2rem;">
                <thead>
                  <tr>
                    <th>CONTRATOS</th>
                    <th>RAMO</th>
                    <th>VALOR SINIESTRO</th>
                    <th>VALOR RETENIDO</th>
                    <th>VALOR CEDIDO</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of listasegurado">
                    <td>{{item.o}}</td>
                    <td>{{item.ramo}}</td>
                    <td>{{miles('tabel', item.pm)}}</td>
                    <td>{{miles('tabel', item.r2)}}</td>
                    <td>{{miles('tabel', item.c2)}}</td>
                    <td><button mat-button color="primary" (click)="procesarnominas(item)">Detalle</button></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="row">
              <div class="col-md-12 text-center">
                <button mat-raised-button color="default" class="btn btn-default btn-lg btn-block">Esta información se toma del detalle del contrato facultativo por reasegurador</button>
              </div>
            </div>
            <div class="row scrollfinito" *ngIf="listasegurado3">
              <table class="table" style="margin-top:2rem;">
                <thead>
                  <tr>
                    <th>Reasegurador</th>
                    <th>% Participación</th>
                    <th>Valor Cedido</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of listasegurado3">
                    <td>{{item.re}}</td>
                    <td>{{porcentaje(item.fn | number)}}</td>
                    <td>{{miles('tabel', item.o)}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="row">
              <div class="col-md-12 col-xs-12 text-center">
                <button mat-raised-button color="primary" (click)="guardarpoliza()" style="margin-right: 1rem; background-color: #016672;">Guardar</button>
                <button mat-raised-button color="primary" style="margin-right: 1rem; background-color: #016672;">Nuevo</button>
                <button mat-raised-button color="primary" style="margin-right: 1rem;">Cerrar</button>
              </div>
            </div>
            
            <a [routerLink]="['/home']">
              <button mat-button color="warn" type="button" class="btn btn-alert btn-md shadow-box-item" onclick="history.go(-1);">
                Regresar
              </button>
            </a>
            

            



          </div>
        </div>
      </div>
    </div>
  </div>
</div>